<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Home</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Home</h1>

    



    


    <h3> </h3>










    




    <section>
        <article><p><a href="https://travis-ci.com/Shopify/graphql-js-client"><img src="https://travis-ci.com/Shopify/graphql-js-client.svg?branch=master" alt="Travis"></a></p>
<h1>graphql-js-client</h1><p>Feature light client library for fetching resources via GraphQL.</p>
<h2>Table Of Contents</h2><ul>
<li><a href="#installation">Installation</a></li>
<li><a href="#examples">Examples</a></li>
<li><a href="#documentation">Documentation</a></li>
<li><a href="#contributing">Contributing</a></li>
<li><a href="http://github.com/Shopify/graphql-js-client/blob/master/LICENSE.md">License</a></li>
</ul>
<h2>Installation</h2><p><strong>With Yarn:</strong></p>
<pre class="prettyprint source lang-bash"><code>$ yarn add graphql-js-client</code></pre><p><strong>With NPM:</strong></p>
<pre class="prettyprint source lang-bash"><code>$ npm install graphql-js-client</code></pre><h2>Examples</h2><p><code>GraphQLClient</code> requires a &quot;type bundle&quot; which is a set of ES6 modules generated by <a href="https://github.com/Shopify/graphql-js-schema">graphql-js-schema</a>
that represent your GraphQL schema.</p>
<h4>Initialization</h4><pre class="prettyprint source lang-javascript"><code>import GraphQLClient from 'graphql-js-client';

// This is the generated type bundle from graphql-js-schema
import types from './types.js';

const client = new GraphQLClient(types, {
  url: 'https://graphql.myshopify.com/api/graphql',
  fetcherOptions: {
    headers: `Authorization: Basic aGV5LXRoZXJlLWZyZWluZCA=`
  }
});</code></pre><h4>Creating and sending a query</h4><pre class="prettyprint source lang-javascript"><code>const query = client.query((root) => {
  root.add('shop', (shop) => {
    shop.add('name');
    shop.addConnection('products', {args: {first: 10}}, (product) => {
      product.add('title');
    });
  });
});

/* Will generate the following query:

  query {
    shop {
      name
      products (first: 10) {
        pageInfo {
          hasNextPage
          hasPreviousPage
        }
        edges {
          cursor
          node {
            id
            title
          }
        }
      }
    }
  }

Note: things that implement Node will automatically have the id added to the
query. `addConnection` will automatically build out the connection query with
all information necessary for pagination.

*/

let objects;

client.send(query).then(({model, data}) => {
  objects = model;
  console.log(model); // The serialized model with rich features
  console.log(data); // The raw data returned from the API endpoint
});</code></pre><h4>Refetching Nodes</h4><pre class="prettyprint source lang-javascript"><code>client.refetch(objects.shop.products[0]).then((product) => {
  console.log(product); // This is a fresh instance of the product[0]
});</code></pre><p>In the above example, <code>objects.shop.products[0]</code> implements the Node interface.
The client is smart enough to understand this, and generate the following query:</p>
<pre class="prettyprint source lang-javascript"><code>query {
  node (id: 'abc123') {
    __typename
    ... on Product {
      id
      title
    }
  }
}</code></pre><p>It then resolves directly with the <code>node</code> field, which is a product in this
case.</p>
<h4>Pagination</h4><pre class="prettyprint source lang-javascript"><code>const query = client.query((root) => {
  root.add('shop', (shop) => {
    shop.add('name');
    shop.addConnection('products', {args: {first: 10}}, (product) => {
      product.add('title');
      product.addConnection('variants', {args: {first: 50}}, (variant) => {
        variant.add('title');
        variant.add('price');
      });
    });
  });
});

client.send(query).then(({model}) => {
  client.fetchNextPage(model.shop.products).then((products) => {
    console.log(products); // resolves with the next 10 products.
  });

  client.fetchNextPage(model.shop.products[0].variants).then((variants) => {
    console.log(variants); // resolves with the next 50 variants. Page size is
                           // taken from the previous `first` argument.
  });
});</code></pre><p>The client understands the <a href="https://facebook.github.io/relay/graphql/connections.htm">Relay</a>
specification, and will send the following query for the call
<code>client.fetchNextPage(model.shop.products)</code>:</p>
<pre class="prettyprint source lang-graphql"><code>query {
  shop {
    name
    products (first: 10, after: 'abc123') {
      pageInfo {
        hasNextPage
        hasPreviousPage
      }
      edges {
        cursor
        node {
          id
          title
          variants (first: 50) {
            pageInfo {
              hasNextPage
              hasPreviousPage
            }
            edges {
              cursor
              node {
                id
                title
                price
              }
            }
          }
        }
      }
    }
  }
}</code></pre><p>The client can also use the Node interface to optimize queries for nested
paginated sets. <code>fetchNextPage</code> in the second case
<code>client.fetchNextPage(model.shop.products[0].variants)</code> will generate the
following query:</p>
<pre class="prettyprint source lang-graphql"><code>query {
  node (id: '1') {
    __typename
    ... on Product {
      id
      variants (first: 50, after: 'abc123') {
        id
        title
        price
      }
    }
  }
}</code></pre><p>In both cases, <code>fetchNextPage</code> resolves with the models you're paginating, since
the object graph to those models may not be obvious due to the query generation
algorithm. Page size and fields on the paginated object are retained, while
fields not in the paginated set are pruned.</p>
<h2>Documentation</h2><p>For full API documentation, check out the <a href="https://shopify.github.io/graphql-js-client">API docs</a>.</p>
<h2>Contributing</h2><h4>Setting up:</h4><pre class="prettyprint source lang-bash"><code>$ git clone git@github.com:Shopify/graphql-js-client.git
$ cd graphql-js-client
$ yarn install</code></pre><h4>Running the tests in a browser</h4><pre class="prettyprint source lang-bash"><code>$ yarn start</code></pre><p>Then visit <a href="http://localhost:4200">http://localhost:4200</a></p>
<h4>Running the tests in node</h4><pre class="prettyprint source lang-bash"><code>$ yarn test</code></pre><h2>License</h2><p>MIT, see <a href="http://github.com/Shopify/graphql-js-client/blob/master/LICENSE.md">LICENSE.md</a> for details.</p>
<p><img src="https://cdn.shopify.com/shopify-marketing_assets/builds/19.0.0/shopify-full-color-black.svg" width="200" /></p></article>
    </section>






</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="ClassRegistry.html">ClassRegistry</a></li><li><a href="Client.html">Client</a></li><li><a href="Document_Document.html">Document</a></li><li><a href="Enum_Enum.html">Enum</a></li><li><a href="Field_Field.html">Field</a></li><li><a href="FragmentDefinition_FragmentDefinition.html">FragmentDefinition</a></li><li><a href="FragmentSpread_FragmentSpread.html">FragmentSpread</a></li><li><a href="GraphModel.html">GraphModel</a></li><li><a href="GraphModel_GraphModel.html">GraphModel</a></li><li><a href="InlineFragment_InlineFragment.html">InlineFragment</a></li><li><a href="Mutation.html">Mutation</a></li><li><a href="Mutation_Mutation.html">Mutation</a></li><li><a href="Mutation_Operation.html">Operation</a></li><li><a href="Operation.html">Operation</a></li><li><a href="Operation_Operation.html">Operation</a></li><li><a href="Query.html">Query</a></li><li><a href="Query_Operation.html">Operation</a></li><li><a href="Query_Query.html">Query</a></li><li><a href="SelectionSet.html">SelectionSet</a></li><li><a href="SelectionSetBuilder.html">SelectionSetBuilder</a></li><li><a href="VariableDefinition_VariableDefinition.html">VariableDefinition</a></li></ul><h3>Global</h3><ul><li><a href="global.html#decode">decode</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Tue Jan 29 2019 15:12:29 GMT-0500 (EST)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>